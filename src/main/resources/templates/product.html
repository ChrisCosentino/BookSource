<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Book Source: Product</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Book store project product">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css"  th:href="@{/styles/bootstrap4/bootstrap.min.css}">
    <link th:href="@{/plugins/font-awesome-4.7.0/css/font-awesome.min.css}" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" th:href="@{/plugins/OwlCarousel2-2.2.1/owl.carousel.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/plugins/OwlCarousel2-2.2.1/owl.theme.default.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/plugins/OwlCarousel2-2.2.1/animate.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/styles/product.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/styles/product_responsive.css}">
</head>
<body>

<div class="super_container">

    <!-- Header -->

    <header class="header">
        <div class="header_container">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="header_content d-flex flex-row align-items-center justify-content-start">
                            <div class="logo"><a th:href="@{/}">Book Source.</a></div>
                            <nav class="main_nav">
                                <ul>
                                    <li><a th:href="@{/home}">Home</a></li>
                                    <li><a th:href="@{/products}">Books</a></li>
                                    <li><a th:href="@{/contact}">Contact</a></li>
                                    <li>
                                        <a th:if="${loginToken != ''}" th:href="@{/logout}">Logout</a>
                                        <a th:unless="${loginToken != ''}" th:href="@{/login}">Login</a>
                                    </li>
                                </ul>
                            </nav>
                            <div class="header_extra ml-auto">
                                <div class="shopping_cart">
                                    <a th:href="@{/cart}">
                                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                             viewBox="0 0 489 489" style="enable-background:new 0 0 489 489;" xml:space="preserve">
											<g>
												<path d="M440.1,422.7l-28-315.3c-0.6-7-6.5-12.3-13.4-12.3h-57.6C340.3,42.5,297.3,0,244.5,0s-95.8,42.5-96.6,95.1H90.3
													c-7,0-12.8,5.3-13.4,12.3l-28,315.3c0,0.4-0.1,0.8-0.1,1.2c0,35.9,32.9,65.1,73.4,65.1h244.6c40.5,0,73.4-29.2,73.4-65.1
													C440.2,423.5,440.2,423.1,440.1,422.7z M244.5,27c37.9,0,68.8,30.4,69.6,68.1H174.9C175.7,57.4,206.6,27,244.5,27z M366.8,462
													H122.2c-25.4,0-46-16.8-46.4-37.5l26.8-302.3h45.2v41c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5v-41h139.3v41
													c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5v-41h45.2l26.9,302.3C412.8,445.2,392.1,462,366.8,462z"/>
											</g>
										</svg>
                                        <div>Cart (<span th:text="${cart.size()}"></span> )</div>
                                    </a>
                                </div>
                                <div class="hamburger"><i class="fa fa-bars" aria-hidden="true"></i></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Menu -->

    <div class="menu menu_mm trans_300">
        <div class="menu_container menu_mm">
            <div class="page_menu_content">

                <ul class="page_menu_nav menu_mm">
                    <li class="page_menu_item menu_mm">
                        <a th:href="@{/home}">Home</a>
                    </li>
                    <li class="page_menu_item menu_mm"><a th:href="@{/products}">Books</a></li>

                    <li class="page_menu_item menu_mm"><a th:href="@{/contact}">Contact</a></li>
                    <li class="page_menu_item menu_mm">
                        <a th:if="${loginToken != ''}" th:href="@{/logout}">Logout</a>
                        <a th:unless="${loginToken != ''}" th:href="@{/login}">Login</a>
                    </li>
                </ul>
            </div>
        </div>

        <div class="menu_close"><i class="fa fa-times" aria-hidden="true"></i></div>

    </div>


    <!-- Product Details -->


    <div class="product_details">
        <div class="container">
            <div class="row details_row">

                <!-- Product Image -->
                <div class="col-lg-6">
                    <div class="details_image">
                        <div class="details_image_large"><img th:src="${product.photoUrl}" alt="" /></div>
                    </div>
                </div>

                <!-- Product Content -->
                <div class="col-lg-6">
                    <div class="details_content">
                        <div class="details_name" th:text="${product.title}"></div>
<!--                        <div class="details_discount"></div>-->
                        <div class="details_price">$<span th:text="${product.price}"></span></div>

                        <!-- In Stock -->
                        <div class="in_stock_container">
                            <div class="availability">Availability:</div>
                            <span th:if="${product.available == true}">In Stock</span>
                            <span th:unless="${product.available == true}" style="color: red">Sold Out</span>
                        </div>
                        <div class="in_stock_container">
                            <div class="availability">Product Id:</div>
                            <span th:text="${product.productId}" style="color: black"></span>
                        </div>
                        <div class="in_stock_container">
                            <div class="availability">Category:</div>
                            <span th:text="${product.category}" style="color: black"></span>
                        </div>

                        <div class="in_stock_container">
                            <div class="availability">Author:</div>
                            <span th:text="${product.author}" style="color: black"></span>
                        </div>

                        <div class="details_text">
                            <p th:text="${product.description}"></p>
                        </div>


                        <div class="product_quantity_container" th:if="${product.available == true}">
                            <div class="button cart_button"><a th:href="@{'/add-to-cart?author=' + ${product.author} + '&category=' + ${product.category} + '&title=' + ${product.title} + '&description=' + ${product.description} + '&price=' + ${product.price} + '&available=' + ${product.available} + '&productId=' + ${product.productId} + '&photoUrl=' + ${product.photoUrl}}">Add to cart</a></div>
                        </div>
                        <div class="product_quantity_container" th:if="${product.available == false}">
                             <p>Product sold out :(</p>
                        </div>





                        <!-- Share -->
                        <div class="details_share">
                            <span>Share:</span>
                            <ul>
                                <li><a href="#"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

<!--            <div class="row description_row">-->
<!--                <div class="col">-->
<!--                    <div class="description_title_container">-->
<!--                        <div class="description_title">Description</div>-->
<!--                        <div class="reviews_title"><a href="#">Reviews <span>(1)</span></a></div>-->
<!--                    </div>-->
<!--                    <div class="description_text">-->
<!--                        <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. Phasellus id nisi quis justo tempus mollis sed et dui. In hac habitasse platea dictumst. Suspendisse ultrices mauris diam. Nullam sed aliquet elit. Mauris consequat nisi ut mauris efficitur lacinia.</p>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->


            <div class="reviews-container container list-group">
                <h2>Reviews</h2>
                <div class="review container list-group-item" th:each="review : ${product.reviews}">
                    <h4 class="review-title" th:text="${review.title}"></h4>
                    <p>By: <span class="review-user" th:text="${review.user}"></span></p>
                    <p class="review-message" th:text="${review.message}"></p>
                </div>
            </div>

            <div class="container contact" >
                <div class="row">
                    <div class="col-md-3">
                        <div class="contact-info">
                            <h2>Write a review</h2>
                            <h4>We would love to hear what you thought!</h4>
                        </div>
                    </div>

                    <div class="col-md-9">
                        <form class="contact-form" th:object="${r}" >
<!--                            <input type="hidden" th:field="*{id}" th:value="${product.productId}"/>-->
                            <div class="form-group">
                                <label class="control-label col-sm-2" for="username">Username:</label>
                                <div class="col-sm-10">
                                    <input type="text" th:field="*{user}" class="form-control" placeholder="This username that will be seen on the review" id="username"  name="username" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-2" for="title">Title:</label>
                                <div class="col-sm-10">
                                    <input type="text" th:field="*{title}" class="form-control" id="title" placeholder="Enter title" name="title" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-2" for="message">Review:</label>
                                <div class="col-sm-10">
                                    <textarea class="form-control" rows="5" id="message" th:field="*{message}" required></textarea>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-2 col-sm-10">
                                    <button type="submit" value="Submit" class="btn" style="background-color: #0069D9; color: white">Submit</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

        </div>
    </div>






    <!-- Footer -->

    <div class="footer_overlay"></div>
    <footer class="footer">
        <div class="footer_background" style="background-color: #f3f3f3"></div>
        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="footer_content d-flex flex-lg-row flex-column align-items-center justify-content-lg-start justify-content-center">
                        <div class="footer_logo"><a href="#">Book Source.</a></div>
                        <div class="copyright ml-auto mr-auto">
                            Copyright &copy;<script>document.write(new Date().getFullYear());</script> <br>This is a demo website made by Chris Cosentino.
                        </div>
                        <div class="footer_social ml-lg-auto">
                            <ul>
                                <li><a href=""><i class="fa fa-pinterest" aria-hidden="true"></i></a></li>
                                <li><a href=""><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
                                <li><a href=""><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                                <li><a href=""><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

</div>

<script th:src="@{/js/jquery-3.2.1.min.js}"></script>
<script th:src="@{/styles/bootstrap4/popper.js}"></script>
<script th:src="@{/styles/bootstrap4/bootstrap.min.js}"></script>
<script th:src="@{/plugins/greensock/TweenMax.min.js}"></script>
<script th:src="@{/plugins/greensock/TimelineMax.min.js}"></script>
<script th:src="@{/plugins/scrollmagic/ScrollMagic.min.js}"></script>
<script th:src="@{/plugins/greensock/animation.gsap.min.js}"></script>
<script th:src="@{/plugins/greensock/ScrollToPlugin.min.js}"></script>
<script th:src="@{/plugins/OwlCarousel2-2.2.1/owl.carousel.js}"></script>
<script th:src="@{/plugins/Isotope/isotope.pkgd.min.js}"></script>
<script th:src="@{/plugins/easing/easing.js}"></script>
<script th:src="@{/plugins/parallax-js-master/parallax.min.js}"></script>
<script th:src="@{/js/product.js}"></script>
</body>
</html>